import{a as L}from"./chunk-TIG3QQPU.js";import{a as E,b as k,c as N,d as T,e as F,f as W,h as P,j}from"./chunk-JTVDXOYJ.js";import{e as I}from"./chunk-XVLRRE4J.js";import{Cb as x,Ia as S,Ka as f,Na as t,Oa as n,Qa as u,Ra as h,Sa as _,Va as l,Wa as V,Y as C,Ya as w,Za as b,_a as v,ab as M,ga as d,ha as m,xa as c,ya as p}from"./chunk-GUNOI2AS.js";function D(r,o){if(r&1){let g=u();t(0,"button",15),h("click",function(){d(g);let e=_();return m(e.login())}),l(1," Se connecter "),n()}}function A(r,o){if(r&1){let g=u();t(0,"button",16),h("click",function(){d(g);let e=_();return m(e.logout())}),l(1," Se d\xE9connecter "),n()}}var J=(()=>{let o=class o{constructor(a,e){this.authService=a,this.router=e,this.message="Vous \xEAtes d\xE9connect\xE9"}ngOnInit(){this.auth=this.authService}setMessage(){this.auth.isLoggedIn?this.message="Vous \xEAtes connect\xE9":this.message="Identifiant incorrecte ou mp incorrecte"}login(){this.message="Tentative de connexion",this.auth.login(this.name,this.password).subscribe(a=>{this.setMessage(),a==!0?this.router.navigate(["/pokemons"]):(this.password="",this.router.navigate(["/login"]))})}logout(){this.auth.logout(),this.message="Vous \xEAtes deconnect\xE9"}};o.\u0275fac=function(e){return new(e||o)(p(L),p(I))},o.\u0275cmp=C({type:o,selectors:[["app-login"]],standalone:!0,features:[M],decls:24,vars:5,consts:[["loginForm","ngForm"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-4","mb-4"],[1,"card","mt-5","py-5"],[1,"card-header","text-center"],[1,"card-body"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"card-footer","text-center"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){if(e&1){let y=u();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5"),l(6,"Page de connexion"),n(),t(7,"p")(8,"em"),l(9),n()()(),t(10,"div",6)(11,"form",null,0)(13,"div",7)(14,"label",8),l(15,"Name"),n(),t(16,"input",9),v("ngModelChange",function(s){return d(y),b(i.name,s)||(i.name=s),m(s)}),n()(),t(17,"div",7)(18,"label",10),l(19,"Password"),n(),t(20,"input",11),v("ngModelChange",function(s){return d(y),b(i.password,s)||(i.password=s),m(s)}),n()()()(),t(21,"div",12),S(22,D,2,0,"button",13)(23,A,2,0,"button",14),n()()()()()}e&2&&(c(9),V(i.message),c(7),w("ngModel",i.name),c(4),w("ngModel",i.password),c(2),f("ngIf",!i.auth.isLoggedIn),c(),f("ngIf",i.auth.isLoggedIn))},dependencies:[j,W,E,k,N,P,F,T,x]});let r=o;return r})();export{J as LoginComponent};
