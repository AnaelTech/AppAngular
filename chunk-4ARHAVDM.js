import{a as J}from"./chunk-3X22JUXW.js";import{a as H}from"./chunk-KOIL6KCB.js";import{a as Z}from"./chunk-BHRY3UMH.js";import{a as N,b as q,c as A,d as O,e as B,f as D,g as j,h as R,i as z,j as G}from"./chunk-JTVDXOYJ.js";import{e as L}from"./chunk-XVLRRE4J.js";import{Bb as I,Cb as W,Ia as y,Ja as M,Ka as l,Ma as E,Na as o,Oa as r,Pa as C,Qa as v,Ra as S,Sa as s,Ta as w,Ua as g,Va as a,Xa as P,Y as b,Ya as _,Za as h,_a as k,ab as F,bb as T,cb as V,ga as u,ha as f,xa as m,ya as x}from"./chunk-GUNOI2AS.js";function K(p,d){if(p&1){let n=v();o(0,"div",17)(1,"label",27),a(2,"Picture"),r(),o(3,"input",28,4),k("ngModelChange",function(e){u(n);let i=s(2);return h(i.pokemon.picture,e)||(i.pokemon.picture=e),f(e)}),r(),o(5,"div",15),a(6," L'image du pok\xE9mon est requise. "),r()()}if(p&2){let n=g(4),t=s(2);m(3),_("ngModel",t.pokemon.picture),m(2),l("hidden",n.valid||n.pristine)}}function Q(p,d){if(p&1){let n=v();o(0,"div")(1,"div",29)(2,"input",30),S("change",function(e){let i=u(n).$implicit,c=s(2);return f(c.selectType(e,i))}),r(),o(3,"label",31)(4,"div"),T(5,"pokemonTypeColor"),a(6),r()()()()}if(p&2){let n=d.$implicit,t=s(2);m(2),w("id",n),l("value",n)("checked",t.hasType(n))("disabled",!t.isTypesValid(n)),m(),M("for",n),m(),E("badge rounded-pill ",V(5,9,n),""),m(2),P(" ",n," ")}}function U(p,d){if(p&1){let n=v();o(0,"form",7,0),S("ngSubmit",function(){u(n);let e=s();return f(e.onSubmit())}),o(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"label",13),a(8,"Nom"),r(),o(9,"input",14,1),k("ngModelChange",function(e){u(n);let i=s();return h(i.pokemon.name,e)||(i.pokemon.name=e),f(e)}),r(),o(11,"div",15),a(12," Le nom du pok\xE9mon est requis (1-25). "),r()(),y(13,K,7,2,"div",16),o(14,"div",17)(15,"label",18),a(16,"Point de vie"),r(),o(17,"input",19,2),k("ngModelChange",function(e){u(n);let i=s();return h(i.pokemon.hp,e)||(i.pokemon.hp=e),f(e)}),r(),o(19,"div",15),a(20," Les points de vie du pok\xE9mon sont compris entre 0 et 999. "),r()(),o(21,"div",17)(22,"label",20),a(23,"D\xE9g\xE2ts"),r(),o(24,"input",21,3),k("ngModelChange",function(e){u(n);let i=s();return h(i.pokemon.cp,e)||(i.pokemon.cp=e),f(e)}),r(),o(26,"div",15),a(27," Les d\xE9g\xE2ts du pok\xE9mon sont compris entre 0 et 99. "),r()(),o(28,"div",17)(29,"label",22),a(30,"Types"),r(),y(31,Q,7,11,"div",23),r(),C(32,"div",24),o(33,"div",25)(34,"button",26),a(35," Valider "),r()()()()()()()}if(p&2){let n=g(1),t=g(10),e=g(18),i=g(25),c=s();m(9),_("ngModel",c.pokemon.name),m(2),l("hidden",t.valid||t.pristine),m(2),l("ngIf",c.isAddForm),m(4),_("ngModel",c.pokemon.hp),m(2),l("hidden",e.valid||e.pristine),m(5),_("ngModel",c.pokemon.cp),m(2),l("hidden",i.valid||i.pristine),m(5),l("ngForOf",c.types),m(3),l("disabled",!n.form.valid)}}function X(p,d){p&1&&(o(0,"h3",25),C(1,"app-loader"),r())}var me=(()=>{let d=class d{constructor(t,e){this.pokemonService=t,this.router=e}ngOnInit(){this.types=this.pokemonService.getPokemonTypeList(),this.isAddForm=this.router.url.includes("add")}hasType(t){return this.pokemon.types.includes(t)}selectType(t,e){if(t.target.checked)this.pokemon.types.push(e);else{let c=this.pokemon.types.indexOf(e);this.pokemon.types.splice(c,1)}}isTypesValid(t){return!(this.pokemon.types.length==1&&this.hasType(t)||this.pokemon.types.length>2&&!this.hasType(t))}onSubmit(){this.isAddForm?this.pokemonService.addPokemon(this.pokemon).subscribe(t=>this.router.navigate(["/pokemon",t.id])):this.pokemonService.updatePokemon(this.pokemon).subscribe(()=>this.router.navigate(["/pokemon",this.pokemon.id]))}};d.\u0275fac=function(e){return new(e||d)(x(Z),x(L))},d.\u0275cmp=b({type:d,selectors:[["app-pokemon-form"]],inputs:{pokemon:"pokemon"},standalone:!0,features:[F],decls:2,vars:2,consts:[["pokemonForm","ngForm"],["name","ngModel"],["hp","ngModel"],["cp","ngModel"],["picture","ngModel"],[3,"ngSubmit",4,"ngIf"],["class","text-center",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-4"],[1,"col-md-8","offset-md-2"],[1,"card"],[1,"card-body"],[1,"form-group"],["for","name"],["type","text","id","name","required","","pattern","^[a-zA-Z0-9\xE0\xE9\xE8\xE7]{1,25}$","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-danger",3,"hidden"],["class","form-group pt-3",4,"ngIf"],[1,"form-group","pt-3"],["for","hp"],["type","number","id","hp","required","","pattern","^[0-9]{1,3}$","name","hp",1,"form-control",3,"ngModelChange","ngModel"],["for","cp"],["type","number","id","cp","required","","pattern","^[0-9]{1,2}$","name","cp",1,"form-control",3,"ngModelChange","ngModel"],["for","types"],[4,"ngFor","ngForOf"],[1,"divider"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","picture"],["type","url","id","picture","required","","name","picture",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","value","checked","disabled"],[1,"form-check-label"]],template:function(e,i){e&1&&y(0,U,36,9,"form",5)(1,X,2,0,"h3",6),e&2&&(l("ngIf",i.pokemon),m(),l("ngIf",!i.pokemon))},dependencies:[W,G,D,N,j,q,A,R,z,B,O,I,J,H],styles:[".ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}"]});let p=d;return p})();export{me as a};
